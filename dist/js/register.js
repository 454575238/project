"use strict";require(["config"],function(){require(["load"],function(){function r(){$.ajax({url:"http://route.showapi.com/932-2?showapi_appid=29550&showapi_sign=08402fce064a484baad949d9a18f75e7",type:"get",dataType:"json",success:function(r){var o=r.showapi_res_body.image,s=r.showapi_res_body.sid;$("#imgCode").attr("src",o),$("#imgCode").data("sid",s)}})}r(),$("#nex-img").click(r),$(".UIcode").on("blur",function(){var r=$(this).val(),s=$("#imgCode").data("sid"),i="http://route.showapi.com/932-1?showapi_appid=29550&showapi_sign=08402fce064a484baad949d9a18f75e7&checkcode="+r+"&sid="+s;$.getJSON(i,function(r){r.showapi_res_body.valid?(o=!0,$(".p3 .error").css({display:"none"})):(o=!1,$(".p3 .error").css({display:"block"}),$(".p3 .error").html("<i><b>x</b></i>图形验证码错误"))})});var o=!1;$(".phone").on("blur",s);function s(){var r=/^\d{11}$/,o=$(".phone").val();return r.test(o)?$(".p2 .error").css({display:"none"}):($(".p2 .error").css({display:"inline-block"}),$(".p2 .error").html("<i><b>x</b></i>手机号格式不对")),r.test(o)}$(".password").on("blur",i);function i(){var r=$(".password").val();$(".confirm").val();if(""==r)$(".p5 i").css({background:"yellow"}),$(".p5 .error ").css({display:"inline-block",color:"black"}),$(".p5 .error").html("<i><b>i</b></i>密码不能为空");else{if(/^\w{6,20}$/.test(r))return $(".p5 .error").css({display:"none"}),!0;$(".p5 .error").css({display:"inline-block",color:"red"}),$(".p5 .error").html("<i><b>x</b></i>密码格式不正确")}}$(".confirm").on("blur",e);function e(){var r=$(".password").val();return $(".confirm").val()!==r?($(".p5 .error").css({display:"inline-block",color:"red"}),$(".p5 .error").html("<i><b>x</b></i>密码输入不一致"),!1):($(".p5 .error").css({display:"none"}),!0)}$(".final").on("click",function(){var r=$(".phone").val(),a=$(".password").val();e()&&i()&&s()&&o&&$("#deal").prop("checked")&&$.ajax({url:"http://10.7.187.131/PHP2/register.php",type:"post",dataType:"json",data:"username="+r+"&password="+a,success:function(r){0!==r.status?($(".p2 .error").css({display:"inline-block"}),$(".p2 .error").html("<i><b>x</b></i>"+r.message)):alert(r.message)}})})})});