"use strict";function Carousel(t){var i=t.imgs,e=t.container,s=t.width,n=t.height,h=t.type,r=t.duration;this.imgs=i,this.len=this.imgs.length,this.container=e,this.width=s,this.height=n,this.type=h,this.circles=null,this.lis=null,this.currIndex=0,this.nextIndex=1,this.timer=null,this.duration=r,this.init(),this.flag=!0}Carousel.prototype={init:function(){for(var t='<div class="fwCarousel_container">\n\t\t      <ul class="fwCarousel_ul">',i=0;i<this.len;i++)t+='<li class="fwCarousel_li"><a href='+this.imgs[i].href+"></a><img src="+this.imgs[i].src+"></li>";t+='</ul>\n\t\t<div class="pages"></div>\n\t\t<div class="pre">&lt;</div>\n\t\t<div class="nex">&gt;</div>\n\t\t</div>',this.container[0].innerHTML=t,$(this.container[0].querySelector(".fwCarousel_container")).css({width:this.width+"px",height:this.height+"px",position:"relative",overflow:"hidden"}),$(this.container[0].querySelector(".fwCarousel_ul")).css({width:("slide"===this.type?this.width*this.len:this.width)+"px",height:this.height+"px",listStyle:"none",position:"fade"===this.type?"relative":"absolute"}),this.lis=this.container[0].querySelectorAll(".fwCarousel_li");for(var e=0;e<this.len;e++)$(this.lis[e]).css({width:this.width+"px",height:this.height+"px"}),"fade"===this.type?$(this.lis[e]).css({display:"none",position:"absolute",top:0,left:0}):$(this.lis[e]).css({display:"block",position:"relative",float:"left"}),0===e&&$(this.lis[e]).css({display:"block"});$(this.container[0].querySelector(".pages")).css({width:this.width+"px",height:"40px",background:"black",position:"absolute",bottom:0}),t="";for(var s=0;s<this.len;s++)t+="<i></i>";this.container[0].querySelector(".pages").innerHTML=t,this.circles=this.container[0].querySelectorAll("i"),this.circles[0].className="current",this.bind()},autoPlay:function(){var t=this;this.timer=setInterval(function(){t.move()},this.duration)},move:function(){"slide"===this.type&&this.flag&&this.slide(),"fade"===this.type&&this.fade()},fade:function(){$(this.lis[this.currIndex]).fadeOut(400),$(this.lis[this.nextIndex]).fadeIn(400),this.circles[this.currIndex].className="",this.circles[this.nextIndex].className="current",this.currIndex=this.nextIndex,this.nextIndex++,this.nextIndex>=this.len&&(this.nextIndex=0)},slide:function(){var t=this;this.flag=!1;var i=-this.width*this.nextIndex;this.circles[this.currIndex].className="",this.circles[this.nextIndex].className="current",this.currIndex=this.nextIndex,$(this.container[0].querySelector(".fwCarousel_ul")).animate({left:i},500,function(){t.flag=!0}),this.nextIndex++,this.nextIndex>=this.len&&(this.nextIndex=0)},bind:function(){var t=this;$(this.container[0].querySelector(".fwCarousel_container")).on("mouseenter",function(){clearInterval(t.timer)}),$(this.container[0].querySelector(".fwCarousel_container")).on("mouseleave",function(){t.autoPlay()}),$(this.container[0].querySelector(".nex")).on("click",function(){t.move()}),$(this.container[0].querySelector(".pre")).on("click",function(){t.nextIndex=t.currIndex-1,t.nextIndex<0&&(t.nextIndex=t.len-1),t.move()});for(var i=function(i){$(t.circles[i]).on("click",function(){t.nextIndex=i,t.move()})},e=0;e<this.len;e++)i(e)}};